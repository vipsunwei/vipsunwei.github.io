import{_ as s,c as n,o as a,N as l}from"./chunks/framework.1f285265.js";const p="/assets/commit-msg.25b6a9ec.png",m=JSON.parse('{"title":"使用 commitlint、cz 和 husky 校验 Git 提交信息 release-it 自动发布并生成 CHANGELOG","description":"","frontmatter":{"title":"使用 commitlint、cz 和 husky 校验 Git 提交信息 release-it 自动发布并生成 CHANGELOG","date":"2023-04-05T00:00:00.000Z","aside":true,"tags":["commitlint","cz","husky","release-it","changelog"]},"headers":[],"relativePath":"posts/2023/commitlint+cz.md","lastUpdated":1680695128000}'),e={name:"posts/2023/commitlint+cz.md"},o=l(`<p>大家好, 在上一篇<a href="./husky+lint-staged.html">Husky 和 Lint-staged 入门指南：Git 提交时自动进行代码校验和格式化</a>中描写了<code>git</code>提交代码时, 对暂存区的文件进行<code>lint</code>, 此篇将完成<code>git</code>提交时自动对提交<code>message</code>进行校验, 并使用<code>cz</code>帮助强制规范提交<code>message</code></p><blockquote><p>Lint commit messages</p></blockquote><p><img src="https://commitlint.js.org/assets/commitlint.svg" alt="commitlint"></p><p><code>commitlint</code> 是一个用于检查 <code>git</code> 提交的 <code>message</code> 是否符合项目的规范的工具。规范的提交内容可以直接从 提交内容 生成 <code>changelog</code></p><h2 id="安装commitlint" tabindex="-1">安装<code>commitlint</code> <a class="header-anchor" href="#安装commitlint" aria-label="Permalink to &quot;安装\`commitlint\`&quot;">​</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@commitlint/cli</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@commitlint/config-conventional</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># or</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@commitlint/cli</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@commitlint/config-conventional</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置" aria-label="Permalink to &quot;配置&quot;">​</a></h3><p>项目根目录下创建配置文件</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Create commitlint.config.js file</span></span>
<span class="line"><span style="color:#FFCB6B;">touch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commitlint.config.js</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>写入以下配置</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// commitlint.config.js</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">extends</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@commitlint/config-conventional</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="测试" tabindex="-1">测试 <a class="header-anchor" href="#测试" aria-label="Permalink to &quot;测试&quot;">​</a></h3><p>以下是一个错误例子</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Lint from stdin</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">foo: bar</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">node_modules/.bin/commitlint</span></span>
<span class="line"><span style="color:#FFCB6B;">⧗</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">input:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">foo:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bar</span></span>
<span class="line"><span style="color:#FFCB6B;">✖</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">must</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">be</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">one</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">of</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">build, chore, ci, docs, feat, fix, perf, refactor, revert, style, test</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">type-enum</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">✖</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">found</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">problems,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">warnings</span></span>
<span class="line"><span style="color:#FFCB6B;">ⓘ</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">Get</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">help:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://github.com/conventional-changelog/commitlint/#what-is-commitlint</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><a href="https://github.com/conventional-changelog/commitlint/#what-is-commitlint" target="_blank" rel="noreferrer">参考资料</a></p><p>基于以上配置下面是一个正确的例子</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Lint from stdin</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fix: 解决了xxx问题</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">node_modules/.bin/commitlint</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>没有报错, 通过校验</p><blockquote><p>管道符<code>|</code>后<code>node_modules/.bin/commitlint</code> 这个写法是因为我把<code>commitlint</code>安装在本地<code>devDependencies</code>中了, 如果是全局安装的, 管道符<code>|</code>后直接<code>commitlint</code>就可以了</p></blockquote><blockquote><p>注意: 冒号是英文冒号 <code>:</code>, 冒号前边是<code>type</code>, 必须是<code>[build, chore, ci, docs, feat, fix, perf, refactor, revert, style, test]</code>这些中的一个, 然后冒号后边空一格在写上本次提交的具体<code>message</code>内容</p></blockquote><h2 id="git提交代码自动校验" tabindex="-1"><code>git</code>提交代码自动校验 <a class="header-anchor" href="#git提交代码自动校验" aria-label="Permalink to &quot;\`git\`提交代码自动校验&quot;">​</a></h2><p>为了充分利用<code>commitlint</code>，我们需要实现它的自动化。下面是如何通过<code>git</code>钩子来实现, 上一篇<a href="./husky+lint-staged.html">Husky 和 Lint-staged 入门指南：Git 提交时自动进行代码校验和格式化</a>中我们已经安装了<code>husky</code>, 这里不在重复安装了, 直接添加<code>git</code>钩子</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">husky</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.husky/commit-msg</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">npx --no -- commitlint --edit \${1}</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># or</span></span>
<span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dlx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">husky</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.husky/commit-msg</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">npx --no -- commitlint --edit \${1}</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#82AAFF;">...</span><span style="color:#FFCB6B;">/Library/pnpm/store/v3/tmp/dlx-46892</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">+1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+</span></span>
<span class="line"><span style="color:#82AAFF;">...</span><span style="color:#FFCB6B;">/Library/pnpm/store/v3/tmp/dlx-46892</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Progress:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">resolved</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">reused</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">downloaded</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">added</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">done</span></span>
<span class="line"><span style="color:#FFCB6B;">husky</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">created</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.husky/commit-msg</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>执行成功后会在根目录<code>.husky</code>文件夹中增加一个<code>commit-msg</code>钩子文件, 内容如下:</p><p><img src="`+p+`" alt="commit-msg.png"></p><p><a href="https://commitlint.js.org/#/./guides-local-setup?id=guide-local-setup" target="_blank" rel="noreferrer">本地设置指南参考资料</a></p><h3 id="测试hook" tabindex="-1">测试<code>hook</code> <a class="header-anchor" href="#测试hook" aria-label="Permalink to &quot;测试\`hook\`&quot;">​</a></h3><p>您可以通过简单的提交来测试钩子。下面是一个提交<code>message</code>不规范的例子, 如果钩子生效，你应该看到这样的东西。</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">foo: this will fail</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#82AAFF;">...</span><span style="color:#FFCB6B;">/Library/pnpm/store/v3/tmp/dlx-48632</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">+74</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+++++++</span></span>
<span class="line"><span style="color:#82AAFF;">...</span><span style="color:#FFCB6B;">/Library/pnpm/store/v3/tmp/dlx-48632</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Progress:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">resolved</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">74</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">reused</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">74</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">downloaded</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">added</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">74</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">done</span></span>
<span class="line"><span style="color:#FFCB6B;">✔</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Preparing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lint-staged...</span></span>
<span class="line"><span style="color:#FFCB6B;">✔</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Running</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tasks</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">staged</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">files...</span></span>
<span class="line"><span style="color:#FFCB6B;">✔</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Applying</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">modifications</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tasks...</span></span>
<span class="line"><span style="color:#FFCB6B;">✔</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Cleaning</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">up</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">temporary</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">files...</span></span>
<span class="line"><span style="color:#FFCB6B;">⧗</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">input:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">foo:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">this</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">will</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">fail</span></span>
<span class="line"><span style="color:#FFCB6B;">✖</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">must</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">be</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">one</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">of</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">build, chore, ci, docs, feat, fix, perf, refactor, revert, style, test</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">type-enum</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">✖</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">found</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">problems,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">warnings</span></span>
<span class="line"><span style="color:#FFCB6B;">ⓘ</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">Get</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">help:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://github.com/conventional-changelog/commitlint/#what-is-commitlint</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">husky</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit-msg</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hook</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exited</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">code</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">error</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>下面是一个提交<code>message</code>符合规范的例子, 自从 <code>v8.0.0</code> 版本以后，如果提交<code>message</code>没有问题，<code>commitlint</code> 将不会输出任何内容。 （您可以使用<code>--verbose</code> 标志来获得详细输出）</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">chore: 增加commitlint自动校验提交message</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#82AAFF;">...</span><span style="color:#FFCB6B;">/Library/pnpm/store/v3/tmp/dlx-48930</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">+74</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+++++++</span></span>
<span class="line"><span style="color:#82AAFF;">...</span><span style="color:#FFCB6B;">/Library/pnpm/store/v3/tmp/dlx-48930</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Progress:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">resolved</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">74</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">reused</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">74</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">downloaded</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">added</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">74</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">done</span></span>
<span class="line"><span style="color:#FFCB6B;">✔</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Preparing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lint-staged...</span></span>
<span class="line"><span style="color:#FFCB6B;">✔</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Running</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tasks</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">staged</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">files...</span></span>
<span class="line"><span style="color:#FFCB6B;">✔</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Applying</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">modifications</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tasks...</span></span>
<span class="line"><span style="color:#FFCB6B;">✔</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Cleaning</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">up</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">temporary</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">files...</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">eslint-blog ca2908a</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> chore: 增加commitlint自动校验提交message</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">4</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">files</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">changed,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">834</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">insertions</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">+</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">deletions</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">-</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mode</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100755</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.husky/commit-msg</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mode</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100644</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commitlint.config.js</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="安装commitizen" tabindex="-1">安装<code>commitizen</code> <a class="header-anchor" href="#安装commitizen" aria-label="Permalink to &quot;安装\`commitizen\`&quot;">​</a></h2><p>这个工具是用来帮助我们<code>git</code>提交时写出规范的提交<code>message</code>的</p><p><strong><code>commitizen</code>安装为项目开发环境依赖</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commitizen</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># or</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commitizen</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>通过以下命令以使用<code>cz-conventional-changelog</code></strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># npm</span></span>
<span class="line"><span style="color:#FFCB6B;">node_modules/.bin/commitizen</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cz-conventional-changelog</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-dev</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-exact</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># pnpm</span></span>
<span class="line"><span style="color:#FFCB6B;">node_modules/.bin/commitizen</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cz-conventional-changelog</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-dev</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-exact</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>以上命令做了<code>3</code>件事:</p><ol><li>安装<code>cz-conventional-changelog</code>依赖包</li><li>保存依赖包版本到<code>package.json</code>文件的<code>devDependencies</code></li><li>添加<code>the config.commitizen key</code>到<code>package.json</code>文件中, 内容如下:</li></ol><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// package.json</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">config</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">commitizen</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">path</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./node_modules/cz-conventional-changelog</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><a href="https://github.com/commitizen/cz-conventional-changelog" target="_blank" rel="noreferrer">查看更多</a></p><p>由于我们的<code>commitizen</code>安装在本地开发环境, 所以全局环境中并没有<code>cz</code>命令, 我们在<code>package.json</code>文件的<code>scripts</code>中增加一条脚本命令:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">commit</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cz</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>然后我们就可以在终端使用<code>pnpm commit</code>或<code>npm run commit</code>来使用<code>cz</code>了, 当然如果您觉得这样的使用方式比较麻烦, 可以把<code>commitizen</code>安装到全局环境, 就可以直接在终端中使用<code>cz</code>命令了.</p><blockquote><p>安装在开发环境是为了保证开发团队成员拉取代码后, 只需要执行一个<code>pnpm install</code>就可以达到一切正常运行的目标, 因为<code>package.json</code>中保存了全部的依赖和配置</p></blockquote><p><strong>下面我们来测试一下</strong></p><p>随便修改一个文件, 然后将文件<code>git add</code>到暂存区, 执行<code>pnpm commit</code>看看效果如何</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> cz</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">cz-cli@4.3.0,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cz-conventional-changelog@3.3.0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> Select the type of change that you</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">re committing:</span></span>
<span class="line"><span style="color:#C3E88D;">  test:     Adding missing tests or correcting existing tests</span></span>
<span class="line"><span style="color:#C3E88D;">  build:    Changes that affect the build system or external dependencies (example scopes: gulp, broccoli, npm)</span></span>
<span class="line"><span style="color:#C3E88D;">  ci:       Changes to our CI configuration files and scripts (example scopes: Travis, Circle, BrowserStack, SauceLabs)</span></span>
<span class="line"><span style="color:#C3E88D;">❯ chore:    Other changes that don</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">t modify src or test files</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">revert:</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">Reverts</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">previous</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">feat:</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">A</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">feature</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">fix:</span><span style="color:#A6ACCD;">      </span><span style="color:#C3E88D;">A</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bug</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">fix</span></span>
<span class="line"><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">Move</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">up</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">down</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">reveal</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">more</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">choices</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>使用上下方向键选择一个<code>type</code>, 回车确认, 下一步是填写这次代码变更影响的范围</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> What is the scope of this change </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">e.g.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">component</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">or</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">file</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">press</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">enter</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">skip</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果不想写您也可以回车跳过, 下一步是写这次代码变更的一个简短的描述, 这将会是你<code>git</code>仓库的<code>commit</code>记录, 这个必须写</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> Write a short, imperative tense description of the change </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">max</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">93</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">chars</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">:</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>下一步是一个详细的描述, 如果您不想写, 这个可以回车跳过,</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> Provide a longer description of the change: </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">press</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">enter</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">skip</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>下一步询问是否有破坏性变更, 直接回车是 <code>N</code>(没有), 如果有输入<code>y</code>在回车</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> Are there any breaking changes</span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">y/N</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>下一步询问这次变更是否影响到一些<code>open</code>状态的问题, 同样的, 如果没有直接回车, 如果有输入<code>y</code>在回车</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> Does this change affect any open issues</span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">y/N</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>因为我全都选了<code>No</code>, 这就完事了</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> cz</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">cz-cli@4.3.0,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cz-conventional-changelog@3.3.0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> Select the type of change that you</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">re committing: chore:    Other changes that don</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">t modify src or test files</span></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> What is the scope of this change </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">e.g.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">component</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">or</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">file</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">press</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">enter</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">skip</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> Write a short, imperative tense description of the change </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">max</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">93</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">chars</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">:</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">22</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">添加cz帮助规范填写git提交message</span></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> Provide a longer description of the change: </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">press</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">enter</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">skip</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> Are there any breaking changes</span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> No</span></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> Does this change affect any open issues</span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> No</span></span>
<span class="line"><span style="color:#82AAFF;">...</span><span style="color:#FFCB6B;">/Library/pnpm/store/v3/tmp/dlx-54174</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">+74</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+++++++</span></span>
<span class="line"><span style="color:#82AAFF;">...</span><span style="color:#FFCB6B;">/Library/pnpm/store/v3/tmp/dlx-54174</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Progress:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">resolved</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">74</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">reused</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">74</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">downloaded</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">added</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">74</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">done</span></span>
<span class="line"><span style="color:#FFCB6B;">→</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">No</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">staged</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">files</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">match</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">any</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">configured</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">task.</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">eslint-blog 83aca99</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> chore: 添加cz帮助规范填写git提交message</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">files</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">changed,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">326</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">insertions</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">+</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">deletions</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">-</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>以上, 我们就完成 <code>commitizen</code> 规范填写 <code>git</code> 提交 <code>message</code>, 触发 <code>git hook</code> 自动校验提交的<code>message</code></p><h2 id="release-it自动生成changelog" tabindex="-1"><code>release-it</code>自动生成<code>changelog</code> <a class="header-anchor" href="#release-it自动生成changelog" aria-label="Permalink to &quot;\`release-it\`自动生成\`changelog\`&quot;">​</a></h2><p><code>release-it</code> 是一个命令行工具，用于在发布新版本时自动化处理一系列任务。它可以帮助您自动化执行以下任务：</p><ul><li>增加版本号并提交 <code>Git</code></li><li>生成变更日志（<code>Changelog</code>）并提交到 <code>Git</code></li><li>创建 <code>Git</code> 标签并推送到远程仓库</li><li>发布到 <code>npm</code> 等软件仓库</li><li>在 <code>GitHub、GitLab</code> 等平台创建发行版</li></ul><p>以下是如何使用 <code>release-it</code> 进行自动化版本发布的步骤：</p><p><strong>安装 <code>release-it</code>和<code>changelog</code>插件</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">release-it</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@release-it/conventional-changelog</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># or</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">release-it</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@release-it/conventional-changelog</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>配置<code>release-it</code></strong></p><p>在项目根目录下创建一个名为 <code>.release-it.json</code>的文件，并配置需要执行的任务：</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// .release-it.json</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">plugins</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">@release-it/conventional-changelog</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">preset</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">angular</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">git</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">commitMessage</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">chore: Release v\${version}</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">github</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">release</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">draft</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">npm</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">publish</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>上面的配置说明：</p><ul><li><code>git</code>：配置 <code>Git</code> 相关的任务，如自动提交代码、打标签等</li><li><code>github</code>：配置 <code>GitHub</code> 相关的任务，如创建发行版</li><li><code>npm</code>：配置 <code>npm</code> 相关的任务，如发布到 <code>npm</code> 仓库</li><li><code>plugins</code>：配置使用的插件，使用<code>@release-it/conventional-changelog</code>插件来生成 <code>changelog</code>，并使用<code>angular</code>预设</li></ul><p><strong>运行 <code>release-it</code></strong></p><p>在<code>package.json</code>的<code>scripts</code>属性中增加脚本命令:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">release</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">release-it</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>运行以下命令：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">release</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>注意: 运行<code>pnpm release</code>时, 工作目录必须是干净的, 也就是说你需要把修改了的文件提交, 或者使用<code>git stash</code>放入缓存中, 运行完了, 别忘了在<code>git stash pop</code>取出来</p></blockquote><p>下面是我没提交修改的文件报的错:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">release</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> release-it</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">ERROR</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Working</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">must</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">be</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clean.</span></span>
<span class="line"><span style="color:#FFCB6B;">Please</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stage</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">your</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">changes.</span></span>
<span class="line"><span style="color:#FFCB6B;">Documentation:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://git.io/release-it-git</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><a href="https://git.io/release-it-git" target="_blank" rel="noreferrer">release-it 参考资料</a></p><p><strong><code>npm</code>版本号</strong></p><p>先补充一下<code>npm</code>版本号相关知识，<code>npm</code>的版本号遵循<code>SemVer</code> 规范，版本号格式必须采用<code>X.Y.Z</code>的格式，其中 <code>X</code>、<code>Y</code> 和 <code>Z</code> 为非负的整数。<code>X</code> 是主版本号、<code>Y</code> 是次版本号、而 <code>Z</code> 为修订号，英文对应表示为 <code>major</code>、<code>minor</code>、<code>patch</code>，每个号必须采用递增。</p><p>例如 🌰:</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">X.Y.Z =&gt; {major}.{minor}.{patch}</span></span>
<span class="line"><span style="color:#A6ACCD;">0.0.1</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>差不多这些就够我用了</p><p>想了解更多的朋友请查看这里<a href="https://semver.org/lang/zh-CN/" target="_blank" rel="noreferrer"><code>SemVer</code>规范</a></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 更新主版本号</span></span>
<span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">release</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">major</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 更新次版本号</span></span>
<span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">release</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">minor</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 更新修订号</span></span>
<span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">release</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">patch</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>执行过程如下:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">release</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">patch</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> release-it</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">patch</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">WARNING</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">The</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">recommended</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bump</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">is</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">minor</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">but</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">is</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">overridden</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">patch</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">🚀</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Let</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">s release sounding (0.0.1...0.0.2)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">Changelog:</span></span>
<span class="line"><span style="color:#C3E88D;">## 0.0.2 (2023-04-05)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">### Bug Fixes</span></span>
<span class="line"><span style="color:#C3E88D;">* 单词拼写错误 ([e809049](http://xxx.github.com/code/my-project/commit/e8090496895ade0b6b294234ab50cc6a0a085e66))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">### Features</span></span>
<span class="line"><span style="color:#C3E88D;">* 新增xxx功能 ([5f09f7e](http://xxx.github.com/code/my-project/commit/5f09f7ecb2b93d94a64757630bf9d6bc9f2567f1))</span></span>
<span class="line"><span style="color:#C3E88D;">* 新增xxx详情页 ([c2812f9](http://xxx.github.com/code/my-project/commit/c2812f9bfc325c765b3f14ed444d0db6c997c66f))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">✔ echo 更新版本成功</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">Changeset:</span></span>
<span class="line"><span style="color:#C3E88D;"> M package.json</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">? Commit (chore: release v0.0.2)? Yes</span></span>
<span class="line"><span style="color:#C3E88D;">? Tag (0.0.2)? Yes</span></span>
<span class="line"><span style="color:#C3E88D;">? Push? Yes</span></span>
<span class="line"><span style="color:#C3E88D;">🏁 Done (in 38s.)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p><code>release-it</code>会自动执行配置的任务，更新版本号码和变更日志的描述。完成后，它会自动提交代码(<code>Commit</code>)、打标签(<code>Tag</code>)、推送(<code>Push</code>)到仓库等等。</p><p>查看 <code>changelog</code>: 生成的 <code>changelog</code> 将会保存在 <code>CHANGELOG.md</code> 文件中。你可以查看这个文件来了解新版本的变化。</p><p><a href="https://github.com/release-it/release-it/blob/main/README.md" target="_blank" rel="noreferrer">点击查看<code>release-it</code>参考资料</a></p><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h2><ul><li><p>统一的 <code>commit message</code> 格式：通过使用 <code>commitlint</code> 和 <code>commitizen</code>，我们可以定义并统一团队成员的<code>commit message</code> 格式，从而使提交历史记录更加清晰、易读和易于维护。这有助于开发者更好地了解代码的变更，追溯问题来源以及进行版本回滚等操作。</p></li><li><p>自动化的 <code>Git</code> 提交流程：通过使用 <code>husky</code>，我们可以定义在 <code>Git</code> 提交前自动运行的脚本。这使得我们可以在代码提交之前执行各种自动化任务，例如运行测试、格式化代码、静态代码分析等等。这有助于提高代码质量和开发效率。</p></li><li><p>自动生成 <code>Changelog</code>：通过使用 <code>commitlint</code> 和 <code>release-it</code>，我们可以自动生成 <code>Changelog</code>，从而方便地了解每个版本的变更和修复。这使得代码版本历史记录更加清晰、易读和易于维护。</p></li><li><p>自动化版本发布：通过使用 <code>release-it</code>，我们可以自动化执行一系列任务，例如增加版本号、生成变更日志、打标签、发布到 <code>npm</code> 等仓库、创建发行版等等。这使得版本发布过程更加轻松和自动化，同时也有助于确保每个版本都包含所需的变更日志和 <code>Git</code> 提交信息。</p></li></ul><p>总之，使用 <code>commitlint, commitizen, husky, release-it</code> 可以帮助团队成员更好地管理代码提交、生成更好的版本历史记录以及更轻松地进行版本发布。这将有助于提高代码质量、开发效率和版本控制的可维护性。</p>`,96),c=[o];function t(r,i,C,y,D,A){return a(),n("div",null,c)}const F=s(e,[["render",t]]);export{m as __pageData,F as default};
