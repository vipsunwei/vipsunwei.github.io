import{_ as p}from"./chunks/ArticleMetadata.355516f3.js";import{_ as c,c as r,g as i,w as d,b as n,f as h,a as y,i as C,o as t,e as _,j as m}from"./app.4af0e587.js";const E=JSON.parse('{"title":"修改Git最后一次提交记录的作者和邮箱","description":"","frontmatter":{"title":"修改Git最后一次提交记录的作者和邮箱","author":"查尔斯","date":"2022/03/26 10:30","categories":["杂碎逆袭史"],"tags":["Git"]},"headers":[{"level":2,"title":"前言","slug":"前言","link":"#前言","children":[]},{"level":2,"title":"问题解决","slug":"问题解决","link":"#问题解决","children":[]},{"level":2,"title":"后记","slug":"后记","link":"#后记","children":[]}],"relativePath":"categories/fragments/2022/03/26/修改Git最后一次提交记录的作者和邮箱.md","lastUpdated":1677831742000}'),u={name:"categories/fragments/2022/03/26/修改Git最后一次提交记录的作者和邮箱.md"},g=n("h1",{id:"修改git最后一次提交记录的作者和邮箱",tabindex:"-1"},[h("修改Git最后一次提交记录的作者和邮箱 "),n("a",{class:"header-anchor",href:"#修改git最后一次提交记录的作者和邮箱","aria-hidden":"true"},"#")],-1),A=y(`<h2 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言" aria-hidden="true">#</a></h2><p><strong>C：</strong> 今天周末了，抽出了一点时间继续维护下之前提到过的衍生开源项目。修了一个 bug 后，提交了一下。但是突然想起来，今天开发用的是工作本，工作本中的 Git author、email 是配的真实姓名和公司邮箱，提交前忘了修改，现在已经推送到开源平台了，这肯定不行啊。</p><p>但是现在即使修改了本地的 Git author、email 配置，历史提交记录也改变不了啊。别着急，看看怎么解决的。</p><h2 id="问题解决" tabindex="-1">问题解决 <a class="header-anchor" href="#问题解决" aria-hidden="true">#</a></h2><p>如果你确定是和笔者一样的情况，即确保是要修改最后一次提交记录，无论有没有推送到远程仓库都没问题。解决方法就两步，是不是很简单？</p><ol><li><p>修改最后一次提交的作者和邮箱信息</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--amend</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--author=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Charles7c &lt;charles7c@126.com&gt;</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre><pre class="shiki one-dark-pro vp-code-light" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">git </span><span style="color:#98C379;">commit</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--amend</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--author=</span><span style="color:#98C379;">&quot;Charles7c &lt;charles7c@126.com&gt;&quot;</span></span>
<span class="line"></span></code></pre></div></li><li><p>最后将本地的修改强制推送到远程仓库即可（如果你没推送到远程仓库，这步就不需要执行了）</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">push</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--force</span></span>
<span class="line"></span></code></pre><pre class="shiki one-dark-pro vp-code-light" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">git </span><span style="color:#98C379;">push</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--force</span></span>
<span class="line"></span></code></pre></div></li></ol><h2 id="后记" tabindex="-1">后记 <a class="header-anchor" href="#后记" aria-hidden="true">#</a></h2><p><strong>C：</strong> 另外说一下，如果你要修改最后一次提交记录的 commit message，执行下面的命令就可以了。</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--amend</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">要修改为的提交信息</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre><pre class="shiki one-dark-pro vp-code-light" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">git </span><span style="color:#98C379;">commit</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--amend</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-m</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;要修改为的提交信息&quot;</span></span>
<span class="line"></span></code></pre></div><p>上方修改作者和邮箱信息的命令，还可以继续加参数 <code>--date</code> 来修改提交时间，有需要的话去试试去吧。</p>`,10);function B(s,D,F,f,k,b){const o=p,l=C("ClientOnly");return t(),r("div",null,[g,i(l,null,{default:d(()=>{var a,e;return[(((a=s.$frontmatter)==null?void 0:a.aside)??!0)&&(((e=s.$frontmatter)==null?void 0:e.showArticleMetadata)??!0)?(t(),_(o,{key:0,article:s.$frontmatter},null,8,["article"])):m("",!0)]}),_:1}),A])}const G=c(u,[["render",B]]);export{E as __pageData,G as default};
