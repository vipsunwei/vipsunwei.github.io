import{_ as s,c as n,o as a,e}from"./app.18fa6f3c.js";const A=JSON.parse('{"title":"github pages/hexo搭建精致博客","description":"","frontmatter":{"title":"github pages/hexo搭建精致博客","date":"2017-12-20T00:00:00.000Z","aside":false,"tags":["hexo"],"categories":["other"]},"headers":[{"level":2,"title":"安装 node 环境","slug":"安装-node-环境","link":"#安装-node-环境","children":[]},{"level":2,"title":"安装 git","slug":"安装-git","link":"#安装-git","children":[]},{"level":2,"title":"全局安装 hexo 并初始化一个工程","slug":"全局安装-hexo-并初始化一个工程","link":"#全局安装-hexo-并初始化一个工程","children":[]},{"level":2,"title":"安装主题","slug":"安装主题","link":"#安装主题","children":[]},{"level":2,"title":"发布到自己的 GitHub pages","slug":"发布到自己的-github-pages","link":"#发布到自己的-github-pages","children":[]},{"level":2,"title":"绑定域名","slug":"绑定域名","link":"#绑定域名","children":[]},{"level":2,"title":"使用 gitment 添加评论功能","slug":"使用-gitment-添加评论功能","link":"#使用-gitment-添加评论功能","children":[]},{"level":2,"title":"jsonContent 配置","slug":"jsoncontent-配置","link":"#jsoncontent-配置","children":[]},{"level":2,"title":"设置 banner 图","slug":"设置-banner-图","link":"#设置-banner-图","children":[]}],"relativePath":"posts/2017/121801.md"}'),l={name:"posts/2017/121801.md"},t=e(`<blockquote><p>由于 hexo 是基于 node 的框架，所以关于 web 前端的知识我不会讲太细，如果你是 python 工程师、ruby 工程师，都有其对应的框架，简化搭建博客的难度，不用在 hexo 上过分用心. 因为直到现在我才明白，我花费了很多心思搞服务器、弄域名、学后台语言，为的是自己搞一个网站，然而却忽略了最为重要的是<strong>内容</strong>。</p></blockquote><h2 id="安装-node-环境" tabindex="-1">安装 node 环境 <a class="header-anchor" href="#安装-node-环境" aria-hidden="true">#</a></h2><p>请移步 <a href="http://nodejs.cn/" target="_blank" rel="noreferrer">nodeJS 中文网</a></p><h2 id="安装-git" tabindex="-1">安装 git <a class="header-anchor" href="#安装-git" aria-hidden="true">#</a></h2><p>请移步 <a href="https://git-scm.com/book/zh/v1/%E8%B5%B7%E6%AD%A5-%E5%AE%89%E8%A3%85-Git" target="_blank" rel="noreferrer">起步 - 安装 Git</a></p><h2 id="全局安装-hexo-并初始化一个工程" tabindex="-1">全局安装 hexo 并初始化一个工程 <a class="header-anchor" href="#全局安装-hexo-并初始化一个工程" aria-hidden="true">#</a></h2><p>过程与安装大部分脚手架工具一样类似，工具可以使用命令行工具或 git bash</p><ol><li>全局安装 hexo<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">$ npm install hexo-cli -g</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li><li>进入一个文件夹（你想把工程放到哪个文件夹就进入哪个文件夹，我的是 <code>D:/files/hexo</code> ），初始化一个工程<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">$ hexo init yourProjectName</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li><li>进入你的工程，安装需要的资源<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">$ cd blog</span></span>
<span class="line"><span style="color:#A6ACCD;">$ npm install</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li><li>启动你的工程，默认监听 4000 端口，打开 <code>localhost:4000</code> 便可以访问到<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">$ hexo server</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li><li>常用的命令就四个 <ul><li>hexo clean 清空缓存</li><li>hexo generate 简写 hexo g，生成静态文件</li><li>hexo serve 简写 hexo s，启动一个服务，将本地静态文件可视化</li><li>hexo deploy 简写 hexo d，发布</li></ul></li></ol><p>这时候一个最原始的 hexo 博客就搭建好了。</p><h2 id="安装主题" tabindex="-1">安装主题 <a class="header-anchor" href="#安装主题" aria-hidden="true">#</a></h2><p>可以去官方主题库区找，也可以去百度一下信誉比较好的主题，这个根据自己的喜好选择就行。</p><ol><li>安装。主题一般都是托管在 GitHub，可以直接将主题直接 clone 到你的工程下的 themes 文件夹下，也可以下载压缩包解压到 themes 文件夹下。</li><li>配置。打开_config.yml（主题文件夹内还有一个_config.yml，不要弄混）文件进行设置，比如你安装好的主题的文件夹叫 themeABC，那就将 theme 设置为 themeABC</li></ol><h2 id="发布到自己的-github-pages" tabindex="-1">发布到自己的 GitHub pages <a class="header-anchor" href="#发布到自己的-github-pages" aria-hidden="true">#</a></h2><p>pages 分两种，一种是对应自己的 GitHub 账号，一种对应 GitHub 上的一个工程，现在我们讲的是对应自己 GitHub 账号的那种。</p><ol><li>创建。创建一个工程，格式为 <code>nickname.github.io</code> ，我的 GitHub 昵称叫做 recoluan，所以我的 pages 名字叫做 <code>recoluan.github.io</code></li><li>配置。打开_config.yml，配置自己的工程。<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">deploy:</span></span>
<span class="line"><span style="color:#A6ACCD;">  type: git</span></span>
<span class="line"><span style="color:#A6ACCD;">  repo: git@github.com:recoluan/recoluan.github.io.git</span></span>
<span class="line"><span style="color:#A6ACCD;">  branch: master</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li><li>在你的本体工程下使用命令行工具发布到 GitHub 工程，并使用 nickname.github.io 访问。<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">$ hexo g</span></span>
<span class="line"><span style="color:#A6ACCD;">$ hexo d</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li></ol><h2 id="绑定域名" tabindex="-1">绑定域名 <a class="header-anchor" href="#绑定域名" aria-hidden="true">#</a></h2><ol><li>解析域名。在你的域名服务平台的控制台进行解析，设置两条记录，记录的类型都选择 CNAME，记录值都选择 nickname.github.io ，主机记录一条为空，另一条填写 www。</li><li>设置 pages。在 github 上打开你的工程，点击 Settings ，然后找到 GitHub Pages 下的 Custom domain ，填写你的 www 域名，点击 save 保存，这时域名就可以访问到你的网站了。</li><li>修复本地工程。GitHub 工程里会出现一个 CNAME 文件里面写着你域名，见这个文件放到你的本地工程的所用主题下的 source 文件夹下，不然下次发布时会清空这个文件。</li></ol><h2 id="使用-gitment-添加评论功能" tabindex="-1">使用 gitment 添加评论功能 <a class="header-anchor" href="#使用-gitment-添加评论功能" aria-hidden="true">#</a></h2><ol><li>注册 OAuth Apps。代开你的 GitHub 的设置，然后在左边菜单栏最下方找到 Developer settings 选项，点击进去找到 OAuth Apps，添加新的账号，其中“Application name”对应的你的 Pages 地址，我的是 <code>recoluan.github.io</code> ,“Homepage URL”和“Authorization callback URL”对应的是域名，我的是 <code>http://www.recoluan.com</code> ,这样会生成 client_id 和 client_secret。</li><li>配置_config.yml。<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">gitment:</span></span>
<span class="line"><span style="color:#A6ACCD;">  enable: true</span></span>
<span class="line"><span style="color:#A6ACCD;">  owner: recoluan</span></span>
<span class="line"><span style="color:#A6ACCD;">  repo: recoluan.github.io</span></span>
<span class="line"><span style="color:#A6ACCD;">  client_id: your client_id</span></span>
<span class="line"><span style="color:#A6ACCD;">  client_secret: your client_secret</span></span>
<span class="line"><span style="color:#A6ACCD;">  perPage: 10</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li><li>将前端代码放到文章页或者专门的评论页<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">&lt;% if(theme.gitment.enable &amp;&amp; is_post()) { %&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;script type=&quot;text/javascript&quot; src=&quot;https://imsun.github.io/gitment/dist/gitment.browser.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    var gitment = new Gitment({</span></span>
<span class="line"><span style="color:#A6ACCD;">        id: window.location.pathname,</span></span>
<span class="line"><span style="color:#A6ACCD;">        owner:&quot;&lt;%= theme.gitment.owner%&gt;&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">        repo:&quot;&lt;%= theme.gitment.repo%&gt;&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">        oauth: {</span></span>
<span class="line"><span style="color:#A6ACCD;">          client_id:&quot;&lt;%= theme.gitment.client_id%&gt;&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">          client_secret:&quot;&lt;%= theme.gitment.client_secret%&gt;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        },</span></span>
<span class="line"><span style="color:#A6ACCD;">        perPage:&quot;&lt;%= theme.gitment.perPage%&gt;&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    });</span></span>
<span class="line"><span style="color:#A6ACCD;">    gitment.render(&#39;comments&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;/script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;% } else { %&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">   &lt;p&gt;评论系统未开启，无法评论！&lt;/p&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;%}%&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li></ol><h2 id="jsoncontent-配置" tabindex="-1">jsonContent 配置 <a class="header-anchor" href="#jsoncontent-配置" aria-hidden="true">#</a></h2><ol><li><p>首先安装 hexo-generator-json-content</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">hexo-generator-json-content</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li><li><p>然后在当前主题中的 <code>_config.yml</code> 中配置</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">## 搜索</span></span>
<span class="line"><span style="color:#A6ACCD;">jsonContent:</span></span>
<span class="line"><span style="color:#A6ACCD;">  searchLocal: true</span></span>
<span class="line"><span style="color:#A6ACCD;">  searchGoogle: false</span></span>
<span class="line"><span style="color:#A6ACCD;">  meta: false</span></span>
<span class="line"><span style="color:#A6ACCD;">  pages: false</span></span>
<span class="line"><span style="color:#A6ACCD;">  posts:</span></span>
<span class="line"><span style="color:#A6ACCD;">    title: true</span></span>
<span class="line"><span style="color:#A6ACCD;">    date: true</span></span>
<span class="line"><span style="color:#A6ACCD;">    path: true</span></span>
<span class="line"><span style="color:#A6ACCD;">    text: true</span></span>
<span class="line"><span style="color:#A6ACCD;">    raw: false</span></span>
<span class="line"><span style="color:#A6ACCD;">    content: false</span></span>
<span class="line"><span style="color:#A6ACCD;">    slug: false</span></span>
<span class="line"><span style="color:#A6ACCD;">    updated: false</span></span>
<span class="line"><span style="color:#A6ACCD;">    comments: false</span></span>
<span class="line"><span style="color:#A6ACCD;">    link: false</span></span>
<span class="line"><span style="color:#A6ACCD;">    permalink: false</span></span>
<span class="line"><span style="color:#A6ACCD;">    excerpt: false</span></span>
<span class="line"><span style="color:#A6ACCD;">    categories: false</span></span>
<span class="line"><span style="color:#A6ACCD;">    tags: true</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li></ol><h2 id="设置-banner-图" tabindex="-1">设置 banner 图 <a class="header-anchor" href="#设置-banner-图" aria-hidden="true">#</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">banner:</span></span>
<span class="line"><span style="color:#A6ACCD;">    img: /img/banner.jpg</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>这里注意，<code>/</code>代表的是根目录，项目会去根目录去寻找，否则会自动在当前目录为基础寻找。</p><p>转自博客：<a href="http://recoluan.gitlab.io" target="_blank" rel="noreferrer"><strong>午后南杂</strong></a></p>`,25),p=[t];function o(i,c,r,h,d,C){return a(),n("div",null,p)}const u=s(l,[["render",o]]);export{A as __pageData,u as default};
